(()=>{var e={};e.id=780,e.ids=[220,636,780],e.modules={237:(e,t)=>{"use strict";Object.defineProperty(t,"A",{enumerable:!0,get:function(){return s}});var s=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},1413:(e,t)=>{"use strict";Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,s){return s in t?t[s]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,s)):"function"==typeof t&&"default"===s?t:void 0}}})},2015:e=>{"use strict";e.exports=require("react")},2768:()=>{},2830:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(8732),n=s(2341);function a(){return(0,r.jsxs)(n.Html,{lang:"en",children:[(0,r.jsx)(n.Head,{}),(0,r.jsxs)("body",{className:"antialiased",children:[(0,r.jsx)(n.Main,{}),(0,r.jsx)(n.NextScript,{})]})]})}},3139:e=>{"use strict";e.exports=import("bcryptjs")},3873:e=>{"use strict";e.exports=require("path")},4722:e=>{"use strict";e.exports=require("next-auth/react")},4937:e=>{"use strict";e.exports=require("next/server")},5907:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>f,default:()=>d,getServerSideProps:()=>P,getStaticPaths:()=>g,getStaticProps:()=>p,reportWebVitals:()=>m,routeModule:()=>A,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>b,unstable_getStaticParams:()=>h,unstable_getStaticPaths:()=>x,unstable_getStaticProps:()=>S});var n=s(3885),a=s(237),i=s(1413),o=s(2830),u=s(9542),c=s(7270),l=e([c]);c=(l.then?(await l)():l)[0];let d=(0,i.M)(c,"default"),p=(0,i.M)(c,"getStaticProps"),g=(0,i.M)(c,"getStaticPaths"),P=(0,i.M)(c,"getServerSideProps"),f=(0,i.M)(c,"config"),m=(0,i.M)(c,"reportWebVitals"),S=(0,i.M)(c,"unstable_getStaticProps"),x=(0,i.M)(c,"unstable_getStaticPaths"),h=(0,i.M)(c,"unstable_getStaticParams"),v=(0,i.M)(c,"unstable_getServerProps"),b=(0,i.M)(c,"unstable_getServerSideProps"),A=new n.PagesRouteModule({definition:{kind:a.A.PAGES,page:"/SignUp",pathname:"/SignUp",bundlePath:"",filename:""},components:{App:u.default,Document:o.default},userland:c});r()}catch(e){r(e)}})},6037:e=>{"use strict";e.exports=require("mongoose")},7270:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{POST:()=>c});var n=s(3139),a=s(4937),i=s(7436),o=s(9443),u=e([n]);async function c(e){try{let{name:t,email:s,password:r,confirmPassword:u,role:c}=await e.json();if(!t||!s||!r||!u)return a.NextResponse.json({message:"All fields are required"},{status:400});if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s))return a.NextResponse.json({message:"Invalid email format"},{status:400});if(r.length<6)return a.NextResponse.json({message:"Password must be at least 6 characters long"},{status:400});if(r!==u)return a.NextResponse.json({message:"Passwords do not match"},{status:400});if(await (0,o.A)(),await i.default.findOne({email:s}).exec())return a.NextResponse.json({message:"User already exists"},{status:400});let l=await n.default.hash(r,10),d=new i.default({name:t,email:s,password:l,role:c||"student"});return await d.save(),a.NextResponse.json({message:"User registered successfully"},{status:201})}catch(e){return console.error("Error in register API:",e),a.NextResponse.json({message:"Internal server error"},{status:500})}}n=(u.then?(await u)():u)[0],r()}catch(e){r(e)}})},7436:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(6037),n=s.n(r);let a=new(n()).Schema({name:{type:String,required:!0},email:{type:String,required:!0,unique:!0},password:{type:String,required:!1}}),i=n().models.User||n().model("User",a)},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9443:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(6037),n=s.n(r);if(!process.env.MONGO_URI)throw Error("Please define the MONGO_URI environment variable");let a=global.mongoose;a||(a=global.mongoose={conn:null,promise:null});let i=async function(){return a.conn||(a.promise||(a.promise=n().connect(process.env.MONGO_URI,{useNewUrlParser:!0,useUnifiedTopology:!0}).then(e=>({db:e.connection.db}))),a.conn=await a.promise),a.conn}},9542:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(8732);s(2768);var n=s(4722);function a({Component:e,pageProps:t}){return(0,r.jsx)(n.SessionProvider,{session:t.session,children:(0,r.jsx)(e,{...t})})}}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[341],()=>s(5907));module.exports=r})();