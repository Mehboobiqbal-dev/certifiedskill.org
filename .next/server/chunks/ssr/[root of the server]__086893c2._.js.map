{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///home/user/get-certified/pages/_document.js"],"sourcesContent":["import { Html, Head, Main, NextScript } from \"next/document\";\n\nexport default function Document() {\n  return (\n    <Html lang=\"en\">\n      <Head />\n      <body className=\"antialiased\">\n        <Main />\n        <NextScript />\n      </body>\n    </Html>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;;;AAEe,SAAS;IACtB,qBACE,qKAAC,yHAAA,CAAA,OAAI;QAAC,MAAK;;0BACT,qKAAC,yHAAA,CAAA,OAAI;;;;;0BACL,qKAAC;gBAAK,WAAU;;kCACd,qKAAC,yHAAA,CAAA,OAAI;;;;;kCACL,qKAAC,yHAAA,CAAA,aAAU;;;;;;;;;;;;;;;;;AAInB","debugId":null}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///home/user/get-certified/pages/_app.js"],"sourcesContent":["import \"../styles/globals.css\";\n\nimport { SessionProvider } from \"next-auth/react\";\n\nexport default function MyApp({ Component, pageProps }) {\n  return (\n    <SessionProvider session={pageProps.session}>\n      <Component {...pageProps} />\n    </SessionProvider>\n  );\n}"],"names":[],"mappings":";;;;AAEA;;;;AAEe,SAAS,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE;IACpD,qBACE,qKAAC,mIAAA,CAAA,kBAAe;QAAC,SAAS,UAAU,OAAO;kBACzC,cAAA,qKAAC;YAAW,GAAG,SAAS;;;;;;;;;;;AAG9B","debugId":null}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":["file:///home/user/get-certified/pages/exam/%5Bid%5D.js"],"sourcesContent":["import { useSession } from 'next-auth/react';\nimport { useRouter } from 'next/router';\nimport { useEffect, useState, useRef } from 'react';\nimport Head from 'next/head';\n\nexport default function Exam({ exam }) {\n  const { status } = useSession();\n  const router = useRouter();\n  const [answers, setAnswers] = useState({});\n  const videoRef = useRef(null);\n  const [cheatingDetected, setCheatingDetected] = useState(false);\n\n  useEffect(() => {\n    if (status === 'unauthenticated') router.push('/');\n\n    // Tab change detection\n    const handleVisibilityChange = () => {\n      if (document.visibilityState === 'hidden') {\n        setCheatingDetected(true);\n        alert('Tab change detected! This will be flagged.');\n      }\n    };\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n\n    // Face detection setup\n    const setupFaceDetection = async () => {\n      const { FaceDetection } = await import('@mediapipe/face_detection');\n      const faceDetection = new FaceDetection({\n        locateFile: (file) => `https://cdn.jsdelivr.net/npm/@mediapipe/face_detection/${file}`,\n      });\n      faceDetection.setOptions({ model: 'short', minDetectionConfidence: 0.5 });\n      faceDetection.onResults((results) => {\n        if (!results.detections.length) {\n          setCheatingDetected(true);\n          alert('No face detected! Please stay in view.');\n        }\n      });\n\n      const video = videoRef.current;\n      navigator.mediaDevices.getUserMedia({ video: true }).then((stream) => {\n        video.srcObject = stream;\n        video.play();\n        const detect = () => faceDetection.send({ image: video }).then(() => requestAnimationFrame(detect));\n        detect();\n      });\n    };\n    setupFaceDetection();\n\n    return () => document.removeEventListener('visibilitychange', handleVisibilityChange);\n  }, [status, router]);\n\n  const handleSubmit = async () => {\n    const res = await fetch('/api/submit-exam', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ examId: exam._id, answers: Object.values(answers) }),\n    });\n    if (res.ok) {\n      alert('Exam submitted!');\n      router.push('/dashboard');\n    }\n  };\n\n  return (\n    <div style={{ padding: '20px' }}>\n      <Head>\n        <script src=\"https://cdn.jsdelivr.net/npm/@mediapipe/face_detection/face_detection.js\" crossOrigin=\"anonymous\" />\n      </Head>\n      <h1>{exam.title}</h1>\n      <video ref={videoRef} width=\"320\" height=\"240\" style={{ position: 'fixed', top: 10, right: 10 }} />\n      {exam.questions.map((q, index) => (\n        <div key={index} style={{ marginBottom: '20px' }}>\n          <p>{q.question}</p>\n          {q.options.map((option, i) => (\n            <label key={i}>\n              <input\n                type=\"radio\"\n                name={`question-${index}`}\n                value={option}\n                onChange={() => setAnswers({ ...answers, [index]: option })}\n              />\n              {option}\n            </label>\n          ))}\n        </div>\n      ))}\n      <button onClick={handleSubmit} disabled={cheatingDetected}>\n        Submit Exam\n      </button>\n      {cheatingDetected && <p style={{ color: 'red' }}>Cheating detected! Resolve issues to submit.</p>}\n    </div>\n  );\n}\n\nexport async function getServerSideProps({ params }) {\n  const res = await fetch(`http://localhost:3000/api/exam/${params.id}`);\n  const exam = await res.json();\n  return { props: { exam } };\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 380, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}