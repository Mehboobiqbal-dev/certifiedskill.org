(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{1394:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(9241),r=a(9573);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},6353:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(7876),r=a(553),n=a(9099),l=a(4232),d=a(9461);function i(){let{data:e,status:t}=(0,r.useSession)(),a=(0,n.useRouter)(),[i,o]=(0,l.useState)([]);return(console.log("Dashboard session:",e,"status:",t),(0,l.useEffect)(()=>{if("unauthenticated"===t){a.push("/");return}"authenticated"===t&&fetch("/api/exams",{cache:"no-store"}).then(e=>e.json()).then(e=>{console.log("Fetched exams:",e),o(e)}).catch(e=>console.error("Error fetching exams:",e))},[e,t,a]),"loading"===t)?(0,s.jsx)("p",{children:"Loading..."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.default,{}),(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold",children:["Welcome, ",null==e?void 0:e.user.name]}),(0,s.jsx)("button",{onClick:()=>(0,r.signOut)({callbackUrl:"/"}),className:"mt-4 bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded",children:"Logout"}),(0,s.jsx)("h2",{className:"mt-8 text-2xl font-semibold",children:"Available Exams"}),0===i.length?(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"No exams available at the moment."}):(0,s.jsx)("ul",{className:"mt-4 space-y-4",children:i.map(e=>(0,s.jsxs)("li",{className:"border p-4 rounded shadow hover:bg-gray-50",children:[(0,s.jsx)("a",{href:"/exam/".concat(e._id),className:"text-xl font-medium text-indigo-600 hover:underline",children:e.title}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[new Date(e.startTime).toLocaleString()," - ",new Date(e.endTime).toLocaleString()]})]},e._id))})]})]})}},6663:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return a(6353)}])},9099:(e,t,a)=>{e.exports=a(4294)},9461:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var s=a(7876),r=a(553),n=a(4232),l=a(8230),d=a.n(l),i=a(8194),o=a(1394);let c=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.bL,{ref:t,className:(0,o.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});c.displayName=i.bL.displayName;let m=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i._V,{ref:t,className:(0,o.cn)("aspect-square h-full w-full",a),...r})});m.displayName=i._V.displayName;let u=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.H4,{ref:t,className:(0,o.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});u.displayName=i.H4.displayName;var f=a(3361),x=a(2387),h=a(2615),p=a(2685);let N=f.bL,g=f.l9;f.YJ,f.ZL,f.Pb,f.z6,n.forwardRef((e,t)=>{let{className:a,inset:r,children:n,...l}=e;return(0,s.jsxs)(f.ZP,{ref:t,className:(0,o.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",a),...l,children:[n,(0,s.jsx)(x.A,{className:"ml-auto h-4 w-4"})]})}).displayName=f.ZP.displayName,n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(f.G5,{ref:t,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=f.G5.displayName;let b=n.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...n}=e;return(0,s.jsx)(f.ZL,{children:(0,s.jsx)(f.UC,{ref:t,sideOffset:r,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})})});b.displayName=f.UC.displayName;let v=n.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(f.q7,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",a),...n})});v.displayName=f.q7.displayName,n.forwardRef((e,t)=>{let{className:a,children:r,checked:n,...l}=e;return(0,s.jsxs)(f.H_,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(f.VF,{children:(0,s.jsx)(h.A,{className:"h-4 w-4"})})}),r]})}).displayName=f.H_.displayName,n.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(f.hN,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(f.VF,{children:(0,s.jsx)(p.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=f.hN.displayName,n.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(f.JU,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...n})}).displayName=f.JU.displayName,n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(f.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=f.wv.displayName;var j=a(4e3),w=a(4922);let y=()=>{var e,t,a,n,l;let i=(0,j.useRouter)(),{data:o,status:f}=(0,r.useSession)();if("loading"===f)return(0,s.jsx)(w.A,{className:"w-6 h-6 mr-4 mt-4 animate-spin"});let x=null==o?void 0:null===(t=o.user)||void 0===t?void 0:null===(e=t.name)||void 0===e?void 0:e.charAt(0).toUpperCase(),h=async()=>{await (0,r.signOut)({redirect:!1}),i.push("/")};return(0,s.jsx)("nav",{children:o?(0,s.jsxs)(N,{children:[(0,s.jsx)(g,{className:"outline-none relative p-2 md:p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 md:gap-4",children:[(0,s.jsx)("span",{className:"hidden sm:block text-black font-semibold",children:null===(a=o.user)||void 0===a?void 0:a.name}),(0,s.jsxs)(c,{className:"w-8 h-8 md:w-10 md:h-10 hover:opacity-75 transition",children:[(0,s.jsx)(m,{src:(null===(n=o.user)||void 0===n?void 0:n.image)||void 0,alt:(null===(l=o.user)||void 0===l?void 0:l.name)||"User"}),(0,s.jsx)(u,{className:"bg-sky-900 text-black",children:x})]})]})}),(0,s.jsx)(b,{align:"end",side:"bottom",className:"bg-white text-[#141e30] rounded shadow-lg w-32 py-2",children:(0,s.jsx)(v,{className:"h-10 flex items-center justify-center hover:bg-gray-200 cursor-pointer",onClick:h,children:"Log out"})})]}):(0,s.jsxs)("div",{className:"flex items-center gap-1 md:gap-4",children:[(0,s.jsx)(d(),{href:"/sign-in",className:"relative inline-flex items-center justify-center px-2 py-1 md:px-3 md:py-1 font-medium tracking-wide text-black bg-gradient-to-r from-purple-500 to-blue-500 rounded shadow-md hover:from-purple-600 hover:to-blue-600 focus:outline-none transition duration-200 transform hover:-translate-y-0.5 text-xs md:text-base whitespace-nowrap",children:(0,s.jsx)("span",{children:"Sign In"})}),(0,s.jsx)(d(),{href:"/sign-up",className:"relative inline-flex items-center justify-center px-2 py-1 md:px-3 md:py-1 font-medium tracking-wide text-[#141e30] bg-white rounded shadow-md hover:bg-gray-100 focus:outline-none transition duration-200 transform hover:-translate-y-0.5 text-xs md:text-base whitespace-nowrap",children:(0,s.jsx)("span",{children:"Sign Up"})})]})})},k=()=>{let[e,t]=(0,n.useState)(!1),a=(0,n.useRef)(null),{data:l,status:i}=(0,r.useSession)();return(0,n.useEffect)(()=>{let s=e=>{a.current&&!a.current.contains(e.target)&&t(!1)};return e&&document.addEventListener("click",s),()=>{document.removeEventListener("click",s)}},[e]),(0,s.jsx)("header",{className:"bg-gradient-to-r from-purple-500 via-indigo-500 to-blue-500 text-black py-4 px-6 sticky top-0 w-full z-50 shadow-lg transition-all duration-300 ease-in-out transform",children:(0,s.jsxs)("div",{className:"max-w-screen-xl mx-auto flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("h1",{className:"text-2xl font-extrabold tracking-wide transform hover:scale-105 transition duration-300",children:(0,s.jsx)(d(),{href:"/",onClick:()=>t(!1),"aria-label":"Home",children:"Home"})})}),(0,s.jsxs)("nav",{className:"space-x-4 flex items-center",children:["authenticated"===i&&(0,s.jsx)(d(),{href:"/dashboard",className:"text-lg font-medium hover:underline",children:"Dashboard"}),(0,s.jsx)(y,{})]})]})})},_=()=>(0,s.jsx)(r.SessionProvider,{children:(0,s.jsx)(k,{})})}},e=>{var t=t=>e(e.s=t);e.O(0,[0,230,112,129,636,593,792],()=>t(6663)),_N_E=e.O()}]);